/*! For license information please see 163.e3a8c877.chunk.js.LICENSE.txt */
(self.webpackChunkludex_join_solana=self.webpackChunkludex_join_solana||[]).push([[163],{34716:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(798));t.default=class{constructor(e){this.METHOD_GET="GET",this.METHOD_POST="POST",this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e)}getConfig(){return this.config}mergeDefaults(e){const t=e.protocol||"http",n=e.port||("https"===t?443:80);return{host:e.host||"127.0.0.1",protocol:t,port:n,timeout:e.timeout||2e4,logging:e.logging||!1,logger:e.logger||console.log}}async get(e,t){try{return await this.request().get(e,t)}catch(n){if(n.response&&n.response.status)return n.response;throw n}}async post(e,t,n){try{return await this.request().post(e,t,n)}catch(r){if(r.response&&r.response.status)return r.response;throw r}}request(){const e=i.default.create({baseURL:`${this.config.protocol}://${this.config.host}:${this.config.port}`,timeout:this.config.timeout,maxContentLength:536870912});return this.config.logging&&(e.interceptors.request.use((e=>(this.config.logger(`Requesting: ${e.baseURL}/${e.url}`),e))),e.interceptors.response.use((e=>(this.config.logger(`Response:   ${e.config.url} - ${e.status}`),e)))),e}}},46390:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(54165),s=r(n(30482));t.default=class{constructor(){}get signer(){return this.currencyConfig.getSigner()}async withdrawBalance(e){return await(0,i.withdrawBalance)(this.utils,this.api,e)}async getLoadedBalance(){return this.utils.getBalance(this.address)}async getBalance(e){return this.utils.getBalance(e)}async fund(e,t){return this.funder.fund(e,t)}async getPrice(e){return this.utils.getPrice(this.currency,e)}createTransaction(e,t){return new s.default(e,this,t)}getSigner(){return this.currencyConfig.getSigner()}}},98289:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkingUploader=void 0;const s=n(26547),o=n(21584),a=n(75121),c=i(n(94328)),u=i(n(31866)),l=n(41795),d=i(n(8669)),h=i(n(42757));class f extends a.EventEmitter{constructor(e,t){super({captureRejections:!0}),this.paused=!1,this.isResume=!1,this.currencyConfig=e,this.api=t,this.currency=this.currencyConfig.name,this.chunkSize=25e6,this.batchSize=5,this.uploadID=""}setResumeData(e){return e&&(this.uploadID=e,this.isResume=!0),this}getResumeData(){return this.uploadID}setChunkSize(e){if(e<1)throw new Error("Invalid chunk size (must be >=1)");return this.chunkSize=e,this}setBatchSize(e){if(e<1)throw new Error("Invalid batch size (must be >=1)");return this.batchSize=e,this}pause(){this.emit("pause"),this.paused=!0}resume(){this.paused=!1,this.emit("resume")}async uploadTransaction(e){return s.DataItem.isDataItem(e)?this.runUpload(e.getRaw()):this.runUpload(e)}async uploadData(e,t){return this.runUpload(e,{...t})}async runUpload(e,t){var n,i,a;let f=this.uploadID;const p=void 0===t,m={"x-chunking-version":"2"};let y;if(f){if(y=await this.api.get(`/chunks/${this.currency}/${f}/-1`,{headers:m}),404===y.status)throw new Error("Upload ID not found - your upload has probably expired.");if(c.default.checkAndThrow(y,"Getting upload info"),this.chunkSize!=+y.data.size)throw new Error(`Chunk size not equal to that of a previous upload (${+y.data.size}).`)}else y=await this.api.get(`/chunks/${this.currency}/-1/-1`,{headers:m}),c.default.checkAndThrow(y,"Getting upload token"),this.uploadID=f=y.data.id;const{max:g,min:w}=y.data;if(this.chunkSize<+w||this.chunkSize>+g)throw new Error(`Chunk size out of allowed range: ${w} - ${g}`);let v=0;const b=(e,t,n)=>new Promise((r=>{(0,d.default)((async()=>{await this.api.post(`/chunks/${this.currency}/${f}/${t}`,e,{headers:{"Content-Type":"application/octet-stream",...m},maxBodyLength:1/0,maxContentLength:1/0}).then((i=>{if((null===i||void 0===i?void 0:i.status)>=300){const r={res:i,id:n,offset:t,size:e.length};throw this.emit("chunkError",r),r}this.emit("chunkUpload",{id:n,offset:t,size:e.length,totalUploaded:v+=e.length}),r({o:t,d:i})}))}))})),_=null!==(n=y.data.chunks)&&void 0!==n?n:[],M=new o.PassThrough;let S=r.alloc(0),A=!1,E=!0;M.on("end",(()=>A=!0)),M.on("error",(e=>{throw new Error(`Error processing readable: ${e}`)}));const I=async e=>{for(;!A;){if(S.length>=e)return t=r.from(S.slice(0,e)),S=S.slice(e),t;var t=M.read(e);if(null!==t){if(t.length===e)return t;S=r.concat([S,t])}else await new Promise((e=>setTimeout((e=>e(!0)),0,e)))}for(;S.length>=e;)return t=r.from(S.slice(0,e)),S=S.slice(e),t;return E=!1,S};let T;p||(T=(0,s.createData)("",this.currencyConfig.getSigner(),{...t,anchor:null!==(i=null===t||void 0===t?void 0:t.anchor)&&void 0!==i?i:u.default.randomBytes(32).toString("base64").slice(0,32)}),M.write(T.getRaw()),v-=T.getRaw().length),r.isBuffer(e)?(M.write(e),M.end()):e.pipe(M);let k,x,P,C=0,N=[],O=0;if(!p){x=new o.PassThrough;const e=T.getRaw().length;k=await I(this.chunkSize),O++,C+=k.length,x.write(k.slice(e));const t=[(0,l.stringToBuffer)("dataitem"),(0,l.stringToBuffer)("1"),(0,l.stringToBuffer)(T.signatureType.toString()),T.rawOwner,T.rawTarget,T.rawAnchor,T.rawTags,new h.default(x)];P=(0,s.deepHash)(t)}let K=_.pop();for(;E;){if(this.paused&&await new Promise((e=>this.on("resume",(()=>e(void 0))))),K){if(+K[0]-C<=this.chunkSize){const e=K[1],t=await I(e);p||x.write(t),C+=e,K=_.pop(),O++,v+=e;continue}}const e=await I(this.chunkSize);p||x.write(e),N.length==this.batchSize&&(await Promise.all(N),N=[]),N.push(b(e,C,++O)),C+=e.length}if(x&&x.end(),await Promise.all(N),!p){const e=await P,t=r.from(await this.currencyConfig.getSigner().sign(e));k.set(t,2),await b(k,0,0)}const R=await this.api.post(`/chunks/${this.currency}/${f}/-1`,null,{headers:{"Content-Type":"application/octet-stream",...m},timeout:10*this.api.config.timeout});if(402===R.status)throw new Error("Not enough funds to send data");return c.default.checkAndThrow(R,"Finalising upload",[201]),201===R.status&&(R.data={id:null===(a=R.statusText.split(" "))||void 0===a?void 0:a[1]}),this.emit("done",R),R}get completionPromise(){return new Promise((e=>this.on("done",e)))}}t.ChunkingUploader=f},39299:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(8669)),s=r(n(22976)),o=r(n(94328));t.default=class{constructor(e){this.utils=e}async fund(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new s.default(e);if(!n.isInteger())throw new Error("must use an integer for funding amount");const r=this.utils.currencyConfig,a=await this.utils.getBundlerAddress(this.utils.currency);let c="0";if(r.needsFee){c=(await r.getFee("winston"===r.base[0]?0:n,a)).multipliedBy(t).toFixed(0).toString()}const u=await r.createTx(n,a,c);let l;try{l=await r.sendTx(u.tx)}catch(d){throw d}u.txId||(u.txId=l),o.default.checkAndThrow(l,`Sending transaction to the ${this.utils.currency} network`),await this.utils.confirmationPoll(u.txId);if(!await(0,i.default)((async e=>{const t=await this.utils.api.post(`/account/balance/${this.utils.currency}`,{tx_id:u.txId});return 400==t.status&&e(new Error(`failed to post funding tx - ${u.txId} (keep this id!) - ${t.data}`)),o.default.checkAndThrow(t,`Posting transaction ${u.txId} information to the bundler`,[202]),t}),{retries:5,maxTimeout:1e3,minTimeout:100,randomize:!0}))throw new Error(`failed to post funding tx - ${u.txId} - keep this id!`);return{reward:c,target:a,quantity:n.toString(),id:u.txId}}}},42757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STATES=void 0;const n=Symbol("not readable"),r=Symbol("readable"),i=Symbol("ended"),s=Symbol("errored");t.STATES={notReadable:n,readable:r,ended:i,errored:s};class o{constructor(e){let{size:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._state=t.STATES.notReadable,this._rejections=new Set,this._stream=e,this._size=n;const r=["_handleStreamEnd","_handleStreamError"];for(const t of r)Object.defineProperty(this,t,{configurable:!0,writable:!0,value:this[t].bind(this)});e.once("error",this._handleStreamError),e.once("end",this._handleStreamEnd),e.on("readable",(()=>{this._state=t.STATES.readable}))}get closed(){return this._state===t.STATES.ended}[Symbol.asyncIterator](){return this}async next(){switch(this._state){case t.STATES.notReadable:{let e,t;try{e=this._untilReadable(),t=this._untilEnd(),await Promise.race([e.promise,t.promise])}finally{null!=e&&e.close(),null!=t&&t.close()}return this.next()}case t.STATES.ended:return this.close(),{done:!0,value:void 0};case t.STATES.errored:throw this.close(),this._error;case t.STATES.readable:{const e=this._size?this._stream.read(this._size):this._stream.read();return null!==e?{done:!1,value:e}:(this._state=t.STATES.notReadable,await new Promise((e=>setTimeout((e=>e(!0)),0,e))),this.next())}}}_untilReadable(){let e;return{close:()=>{null!=e&&this._stream.removeListener("readable",e)},promise:new Promise(((n,r)=>{e=()=>{this._state=t.STATES.readable,this._rejections.delete(r),n()},this._state,t.STATES.readable,this._stream.once("readable",e),this._rejections.add(r)}))}}_untilEnd(){let e;return{close:()=>{null!=e&&this._stream.removeListener("end",e)},promise:new Promise(((n,r)=>{e=()=>{this._state=t.STATES.ended,this._rejections.delete(r),n()},this._stream.once("end",e),this._rejections.add(r)}))}}return(){return this._state=t.STATES.ended,this.next()}throw(e){return this._error=e,this._state=t.STATES.errored,this.next()}close(e){this._stream.removeListener("end",this._handleStreamEnd),this._stream.removeListener("error",this._handleStreamError),this._state=t.STATES.ended,this._stream.destroy(e)}_handleStreamError(e){this._error=e,this._state=t.STATES.errored;for(const t of this._rejections)t(e)}_handleStreamEnd(){this._state=t.STATES.ended}get state(){return this._state}}t.default=o},30482:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(26547),s=r(n(31866));class o extends i.DataItem{constructor(e,t,n){var r;super((0,i.createData)(e,t.currencyConfig.getSigner(),{...n,anchor:null!==(r=null===n||void 0===n?void 0:n.anchor)&&void 0!==r?r:s.default.randomBytes(32).toString("base64").slice(0,32)}).getRaw()),this.bundlr=t,this.signer=t.currencyConfig.getSigner()}sign(){return super.sign(this.signer)}get size(){return this.getRaw().length}async upload(){return this.bundlr.uploader.transactionUploader(this)}}t.default=o},13339:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;const s=n(26547),o=i(n(9072)),a=i(n(8669)),c=n(98289);t.sleep=e=>new Promise((t=>setTimeout(t,e)));t.default=class{constructor(e,t,n,r){this.api=e,this.currency=n,this.currencyConfig=r,this.utils=t}async upload(e,t){return await this.chunkedUploader.uploadData(e,t)}get chunkedUploader(){return new c.ChunkingUploader(this.currencyConfig,this.api)}async transactionUploader(e){let t;const n=s.DataItem.isDataItem(e);if(this.forceUseChunking||n&&e.getRaw().length>5e7||!n){const r=this.chunkedUploader;t=await r.uploadTransaction(n?e.getRaw():e)}else{const{protocol:n,host:r,port:i,timeout:s}=this.api.getConfig();t=await this.api.post(`${n}://${r}:${i}/tx/${this.currency}`,e.getRaw(),{headers:{"Content-Type":"application/octet-stream"},timeout:s,maxBodyLength:1/0}),201==t.status&&(t.data={id:e.id})}if(402===t.status)throw new Error("Not enough funds to send data");if(t.status>=400)throw new Error(`whilst uploading DataItem: ${t.status} ${t.statusText}`);return t}async concurrentUploader(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=[],s=await o.default.for(e).withConcurrency(t>=1?t:5).handleError((async(e,t)=>{if(i.push(e),"Not enough funds to send data"===e.message)throw e})).process((async(e,i,s)=>{await(0,a.default)((async s=>{try{const s=await this.processItem(e);return i%t==0&&await r(`Processed ${i} Items`),n?await n({item:e,res:s,i:i}):{item:e,res:s,i:i}}catch(o){throw"Not enough funds to send data"===o.message&&s(o),o}}),{retries:3,minTimeout:1e3,maxTimeout:1e4})}));return{errors:i,results:s.results}}async processItem(e){return"string"===typeof e&&(e=r.from(e)),await this.transactionUploader(e)}async generateManifest(e){const{items:t,indexFile:n}=e,r={manifest:"arweave/paths",version:"0.1.0",paths:{}};if(n){if(!t.has(n))throw new Error(`Unable to access item: ${n}`);r.index={path:n}}for(const[i,s]of t.entries())r.paths[i]={id:s};return r}set useChunking(e){"boolean"===typeof e&&(this.forceUseChunking=e)}set contentType(e){this.contentTypeOverride=e}}},94328:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0;const i=r(n(22976));i.default.set({DECIMAL_PLACES:50});t.sleep=e=>new Promise((t=>setTimeout(t,e)));class s{constructor(e,t,n){this.api=e,this.currency=t,this.currencyConfig=n}static checkAndThrow(e,t,n){if((null===e||void 0===e?void 0:e.status)&&!(null!==n&&void 0!==n?n:[]).includes(e.status)&&200!=e.status)throw new Error(`HTTP Error: ${t}: ${e.status} ${"string"!==typeof e.data?e.statusText:e.data}`)}async getNonce(){const e=await this.api.get(`/account/withdrawals/${this.currency}?address=${this.currencyConfig.address}`);return s.checkAndThrow(e,"Getting withdrawal nonce"),e.data}async getBalance(e){const t=await this.api.get(`/account/balance/${this.currency}?address=${e}`);return s.checkAndThrow(t,"Getting balance"),new i.default(t.data.balance)}async getBundlerAddress(e){const t=await this.api.get("/info");s.checkAndThrow(t,"Getting Bundler address");const n=t.data.addresses[e];if(!n)throw new Error(`Specified bundler does not support currency ${e}`);return n}async getPrice(e,t){const n=await this.api.get(`/price/${e}/${t}`);return s.checkAndThrow(n,"Getting storage cost"),new i.default(n.data)}async confirmationPoll(e){if(!this.currencyConfig.isSlow){for(let n=0;n<30;n++)if(await(0,t.sleep)(1e3),await this.currencyConfig.getTx(e).then((e=>null===e||void 0===e?void 0:e.confirmed)).catch((e=>!1)))return;console.warn(`Tx ${e} didn't finalize after 30 seconds`)}}unitConverter(e){return new i.default(e).dividedBy(this.currencyConfig.base[1])}}t.default=s},54165:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withdrawBalance=void 0;const s=n(26547),o=n(48865),a=i(n(94328)),c=i(n(22976)),u=i(n(65150));t.withdrawBalance=async function(e,t,n){const i=e.currencyConfig,l={publicKey:await i.getPublicKey(),currency:e.currency,amount:new c.default(n).toString(),nonce:await e.getNonce(),signature:void 0,sigType:i.getSigner().signatureType},d=await(0,s.deepHash)([(0,o.stringToBuffer)(l.currency),(0,o.stringToBuffer)(l.amount.toString()),(0,o.stringToBuffer)(l.nonce.toString())]);r.isBuffer(l.publicKey)||(l.publicKey=r.from(l.publicKey)),l.signature=await i.sign(d);const h=await i.verify(l.publicKey,d,l.signature);l.publicKey=u.default.encode(l.publicKey),l.signature=u.default.encode(l.signature);const f=u.default.toBuffer(l.publicKey),p=u.default.toBuffer(l.signature),m=await(0,s.deepHash)([(0,o.stringToBuffer)(l.currency),(0,o.stringToBuffer)(l.amount.toString()),(0,o.stringToBuffer)(l.nonce.toString())]),y=await i.verify(f,m,p),g=i.ownerToAddress("arweave"==i.name?u.default.decode(l.publicKey):u.default.toBuffer(l.publicKey))===i.address;if(!(h||y||g))throw new Error(`Internal withdrawal validation failed - please report this!\nDebug Info:${JSON.stringify(l)}`);const w=await t.post("/account/withdraw",l);return a.default.checkAndThrow(w,"Withdrawing balance"),w}},87602:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(34716)),s=r(n(46390)),o=r(n(39299)),a=r(n(13339)),c=r(n(94328)),u=r(n(133));class l extends s.default{constructor(e,t,n,r){var s;super();const l=new URL(e);this.api=new i.default({protocol:l.protocol.slice(0,-1),port:l.port,host:l.hostname,timeout:null!==(s=null===r||void 0===r?void 0:r.timeout)&&void 0!==s?s:1e5}),this.currency=t.toLowerCase(),this.currencyConfig=(0,u.default)(t,n,null===r||void 0===r?void 0:r.providerUrl,null===r||void 0===r?void 0:r.contractAddress),this.utils=new c.default(this.api,this.currency,this.currencyConfig),this.uploader=new a.default(this.api,this.utils,this.currency,this.currencyConfig),this.funder=new o.default(this.utils)}async ready(){await this.currencyConfig.ready(),this.address=this.currencyConfig.address}}t.default=l},2194:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.erc20abi=void 0;const i=r(n(22976)),s=n(49739),o=n(62147),a=r(n(48661));class c extends a.default{constructor(e){super(e),this.contractAddress=e.contractAddress}async getContract(){return this.contractInstance||(this.contractInstance=new s.ethers.Contract(this.contractAddress,t.erc20abi,this.w3signer),this.base=["wei",Math.pow(10,await this.contractInstance.decimals())]),this.contractInstance}async getTx(e){const t=await this.providerInstance.getTransaction(e);if(!t)throw new Error("Tx doesn't exist");if(138!==t.data.length||"a9059cbb"!==t.data.slice(2,10))throw new Error("Tx isn't a ERC20 transfer");const n=`0x${t.data.slice(34,74)}`,r=new i.default(t.data.slice(74),16);return{from:t.from,to:n,blockHeight:t.blockNumber?new i.default(t.blockNumber):null,amount:r,pending:!t.blockNumber,confirmed:t.confirmations>=this.minConfirm}}async getFee(e,t){const n="0x"+new i.default(e).toString(16),r=await this.getContract(),s=await this.providerInstance.getGasPrice(),o=await r.estimateGas.transfer(t,n),a=new i.default(s.mul(o).toString()),[c]=await this.getGas(),u=c.multipliedBy(a),l=new i.default(await this.price());return new i.default(u).dividedToIntegerBy(l)}async createTx(e,t,n){const r=await this.getContract(),s="0x"+new i.default(e).toString(16),o=await r.populateTransaction.transfer(t,s);return o.gasPrice=await this.providerInstance.getGasPrice(),o.gasLimit=await r.estimateGas.transfer(t,s),o.chainId=(await this.providerInstance.getNetwork()).chainId,o.nonce=await this.providerInstance.getTransactionCount(this.address),{txId:void 0,tx:o}}async getGas(){return[new i.default(await(0,o.getRedstonePrice)("ETH")),1e18]}}t.default=c,t.erc20abi=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]},48661:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(29103)),o=n(49739),a=i(n(22976)),c=n(66108),u=i(n(62147)),l=o.ethers.BigNumber,d=c.InjectedEthereumSigner;class h extends u.default{constructor(e){super(e),this.base=["wei",1e18]}async getTx(e){const t=this.providerInstance,n=await t.getTransaction(e);if(!n)throw new Error("Tx doesn't exist");return{from:n.from,to:n.to,blockHeight:n.blockNumber?new a.default(n.blockNumber):null,amount:new a.default(n.value.toHexString(),16),pending:!n.blockNumber,confirmed:n.confirmations>=this.minConfirm}}ownerToAddress(e){return"0x"+(0,s.default)(r.from(e.slice(1))).slice(-20).toString("hex")}async sign(e){return(await this.getSigner()).sign(e)}getSigner(){return this.signer||(this.signer=new c.InjectedEthereumSigner(this.wallet)),this.signer}async verify(e,t,n){return d.verify(e,t,n)}async getCurrentHeight(){const e=this.providerInstance,t=await e.send("eth_blockNumber",[]);return new a.default(t,16)}async getFee(e,t){const n=this.providerInstance,r={to:t,from:this.address,value:"0x"+new a.default(e).toString(16)},i=await n.estimateGas(r),s=await n.getGasPrice();return new a.default(i.mul(s).toString())}async sendTx(e){const t=this.w3signer,n=await t.sendTransaction(e);return n?n.hash:void 0}async createTx(e,t,n){const r=l.from(new a.default(e).toFixed()),i=this.w3signer,s=await i.estimateGas({to:t,from:this.address,value:r.toHexString()});let c=await i.getGasPrice();"matic"===this.name&&(c=o.ethers.BigNumber.from(new a.default(c.toString()).multipliedBy(10).decimalPlaces(0).toString()));return{txId:void 0,tx:await i.populateTransaction({to:t,from:this.address,value:r.toHexString(),gasPrice:c,gasLimit:s})}}async getPublicKey(){const e=await this.getSigner();return await e.setPublicKey(),e.publicKey}pruneBalanceTransactions(e){throw new Error("Method not implemented.")}async ready(){var e;this.w3signer=await this.wallet.getSigner(),this._address=this.ownerToAddress(await this.getPublicKey()),this.providerInstance=new o.ethers.providers.JsonRpcProvider(this.providerUrl),await(null===(e=this.providerInstance)||void 0===e?void 0:e._ready())}}t.default=h},133:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(48661)),s=r(n(44476)),o=r(n(30017)),a=r(n(2194)),c=r(n(798)),u=r(n(94328));t.default=function(e,t,n,r){switch(e){case"ethereum":return new i.default({name:"ethereum",ticker:"ETH",providerUrl:null!==n&&void 0!==n?n:"https://cloudflare-eth.com/",wallet:t});case"matic":return new i.default({name:"matic",ticker:"MATIC",providerUrl:null!==n&&void 0!==n?n:"https://polygon-rpc.com",wallet:t,minConfirm:1});case"arbitrum":return new i.default({name:"arbitrum",ticker:"ETH",providerUrl:null!==n&&void 0!==n?n:"https://arb1.arbitrum.io/rpc",wallet:t});case"bnb":return new i.default({name:"bnb",ticker:"BNB",providerUrl:null!==n&&void 0!==n?n:"https://bsc-dataseed.binance.org",wallet:t});case"avalanche":return new i.default({name:"avalanche",ticker:"AVAX",providerUrl:null!==n&&void 0!==n?n:"https://api.avax.network/ext/bc/C/rpc",wallet:t});case"boba-eth":return new i.default({name:"boba-eth",ticker:"ETH",providerUrl:null!==n&&void 0!==n?n:"https://mainnet.boba.network/",minConfirm:1,wallet:t});case"boba":{const e=new a.default({name:"boba",ticker:"BOBA",providerUrl:null!==n&&void 0!==n?n:"https://mainnet.boba.network/",contractAddress:null!==r&&void 0!==r?r:"0xa18bF3994C0Cc6E3b63ac420308E5383f53120D7",minConfirm:1,wallet:t});return e.price=async()=>{var t;const n=await c.default.post("https://api.livecoinwatch.com/coins/single",JSON.stringify({currency:"USD",code:`${e.ticker}`}),{headers:{"x-api-key":"75a7a824-6577-45e6-ad86-511d590c7cc8","content-type":"application/json"}});if(await u.default.checkAndThrow(n,"Getting price data"),!(null===(t=null===n||void 0===n?void 0:n.data)||void 0===t?void 0:t.rate))throw new Error(`unable to get price for ${e.name}`);return+n.data.rate},e}case"solana":return new o.default({name:"solana",ticker:"SOL",providerUrl:null!==n&&void 0!==n?n:"https://api.mainnet-beta.solana.com/",wallet:t});case"near":return new s.default({name:"near",ticker:"NEAR",providerUrl:null!==n&&void 0!==n?n:"https://rpc.mainnet.near.org",wallet:t});default:throw new Error(`Unknown/Unsupported currency ${e}`)}}},44476:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(66108),o=i(n(22976)),a=n(34917),c=n(96780),u=i(n(20775)),l=n(83695),d=i(n(62147));class h extends d.default{constructor(e){super(e),this.near=this.wallet._near,this.base=["yoctoNEAR",1e25]}async ready(){if(!this.wallet.isSignedIn())throw new Error("Wallet has not been signed in!");const e=new a.keyStores.BrowserLocalStorageKeyStore,t=this.wallet.account();if(this.keyPair=await e.getKey(this.wallet._networkId,t.accountId),!this.keyPair){this.keyPair=a.KeyPair.fromRandom("ed25519");const n=this.keyPair.getPublicKey().toString();await e.setKey(this.wallet._networkId,t.accountId,this.keyPair),await t.addKey(n)}this._address=await this.wallet.getAccountId(),this.providerInstance=this.wallet._near.connection.provider}async getTx(e){var t;const n=await this.providerInstance,[r,i]=e.split(":"),s=await n.txStatusReceipts((0,c.decode)(i),r),a=await n.block(s.transaction_outcome.block_hash),u=(await n.block({finality:"final"})).header.height;if(""!==s.receipts_outcome[0].outcome.status.SuccessValue)throw new Error("Transaction failed!");const l=null!==(t=s.receipts[0].receipt.Action.actions[0].Transfer.deposit)&&void 0!==t?t:0;return{from:r,to:s.transaction.receiver_id,amount:new o.default(l),blockHeight:new o.default(a.header.height),pending:!1,confirmed:u-a.header.height>=this.minConfirm}}ownerToAddress(e){const t="string"===typeof e?e:(0,c.encode)(e);return(0,c.decode)(t.replace("ed25519:","")).toString("hex")}async sign(e){return this.getSigner().sign(e)}getSigner(){return new s.NearSigner(this.keyPair.secretKey)}async verify(e,t,n){return s.NearSigner.verify(e,t,n)}async getCurrentHeight(){const e=await this.providerInstance.status();return new o.default(e.sync_info.latest_block_height)}async getFee(e,t){const n=await this.providerInstance.gasPrice(null);return new o.default(n.gas_price).multipliedBy(45e10)}async sendTx(e){const t=await this.providerInstance.sendTransaction(e);return`${this.address}:${t.transaction.hash}`}async createTx(e,t,n){const r=await this.providerInstance.query({request_type:"view_access_key",finality:"final",account_id:this.address,public_key:this.keyPair.getPublicKey().toString()}),i=++r.nonce,s=a.utils.serialize.base_decode(r.block_hash),c=[a.transactions.transfer(new u.default(new o.default(e).toString()))],d=a.transactions.createTransaction(this.address,this.keyPair.getPublicKey(),t,i,c,s),h=a.utils.serialize.serialize(a.transactions.SCHEMA,d),f=new Uint8Array(l.sha256.array(h)),p=this.keyPair.sign(f);return{tx:new a.transactions.SignedTransaction({transaction:d,signature:new a.transactions.Signature({keyType:d.publicKey.keyType,data:p.signature})}),txId:void 0}}async getPublicKey(){return r.from(this.keyPair.getPublicKey().data)}}t.default=h},30017:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=n(66108),u=a(n(22976)),l=a(n(62147)),d=o(n(99692)),h=a(n(96780)),f=a(n(8669));class p extends l.default{constructor(e){super(e),this.minConfirm=1,this.base=["lamports",1e9]}async getProvider(){return this.providerInstance||(this.providerInstance=new d.Connection(this.providerUrl,{confirmTransactionInitialTimeout:6e4,commitment:"confirmed"})),this.providerInstance}async getTx(e){const t=await this.getProvider(),n=await t.getTransaction(e,{commitment:"confirmed"});if(!n)throw new Error("Confirmed tx not found");const r=await t.getSlot("confirmed"),i=new u.default(n.meta.postBalances[1]).minus(new u.default(n.meta.preBalances[1]));return{from:n.transaction.message.accountKeys[0].toBase58(),to:n.transaction.message.accountKeys[1].toBase58(),amount:i,blockHeight:new u.default(n.slot),pending:!1,confirmed:r-n.slot>=1}}ownerToAddress(e){return"string"===typeof e&&(e=r.from(e)),h.default.encode(e)}async sign(e){return await(await this.getSigner()).sign(e)}getSigner(){return this.signer||(this.signer=new c.HexInjectedSolanaSigner(this.wallet)),this.signer}verify(e,t,n){return c.HexInjectedSolanaSigner.verify(e,t,n)}async getCurrentHeight(){return new u.default((await(await this.getProvider()).getEpochInfo()).blockHeight)}async getFee(e,t){return new u.default(5e3)}async sendTx(e){return await this.wallet.sendTransaction(e,await this.getProvider(),{skipPreflight:!0})}async createTx(e,t,n){const r=new d.PublicKey(await this.getPublicKey()),i=await(0,f.default)((async e=>{var t;try{return(await(await this.getProvider()).getRecentBlockhash()).blockhash}catch(n){if(null===(t=n.message)||void 0===t?void 0:t.includes("blockhash"))throw n;throw e(n),new Error("Unreachable")}}),{retries:3,minTimeout:1e3}),s=new d.Transaction({recentBlockhash:i,feePayer:r});return s.add(d.SystemProgram.transfer({fromPubkey:r,toPubkey:new d.PublicKey(t),lamports:+new u.default(e).toNumber()})),{tx:s,txId:void 0}}async getPublicKey(){return this.wallet.publicKey.toBuffer()}}t.default=p},62147:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRedstonePrice=void 0;const s=i(n(14421)),o=i(n(65150)),a=i(n(798)),c=i(n(94328));async function u(e){const t=await a.default.get(`https://api.redstone.finance/prices?symbol=${e}&provider=redstone&limit=1`);return await c.default.checkAndThrow(t,"Getting price data"),t.data[0].value}t.default=class{constructor(e){this.minConfirm=5,this.isSlow=!1,this.needsFee=!0,Object.assign(this,e)}get address(){return this._address}async ready(){this._address=this.wallet?this.ownerToAddress(await this.getPublicKey()):void 0}async getId(e){return o.default.encode(r.from(await s.default.crypto.hash(await e.rawSignature())))}async price(){return u(this.ticker)}},t.getRedstonePrice=u},13163:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebBundlr=t.default=void 0;var i=n(87602);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}});var s=n(87602);Object.defineProperty(t,"WebBundlr",{enumerable:!0,get:function(){return r(s).default}})},38339:(e,t,n)=>{"use strict";var r=n(38608).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,s=0;e[n]===c;)i++,n++;for(var o=(e.length-n)*u+1>>>0,l=new Uint8Array(o);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=o-1;(0!==d||h<s)&&-1!==f;f--,h++)d+=a*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");s=h,n++}for(var p=o-s;p!==o&&0===l[p];)p++;var m=r.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var y=i;p!==o;)m[y++]=l[p++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,n++;for(var u=(o-s)*l+1>>>0,d=new Uint8Array(u);s!==o;){for(var h=t[s],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var m=u-i;m!==u&&0===d[m];)m++;for(var y=c.repeat(n);m<u;++m)y+=e.charAt(d[m]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},20775:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(4746).Buffer}catch(k){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function c(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function u(e,t,n,i){for(var s=0,o=0,a=Math.min(e.length,n),c=t;c<a;c++){var u=e.charCodeAt(c)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<i,"Invalid character"),s+=o}return s}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},s.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},s.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=c(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,o=s%r,a=Math.min(s,s-o)+n,c=0,l=n;l<a;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var d=1;for(c=u(e,l,e.length,t),l=0;l<o;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){l(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(k){s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=(16777215&(a<<i|s)).toString(16);n=0!==(s=a>>>24-i&16777215)||o!==this.length-1?h[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],l=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);n=(d=d.idivn(l)).isZero()?m+n:h[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var p=u-f|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}n.words[u]=0|d,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}s.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n++]=255&o,n<e.length&&(e[n++]=o>>8&255),n<e.length&&(e[n++]=o>>16&255),6===s?(n<e.length&&(e[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n--]=255&o,n>=0&&(e[n--]=o>>8&255),n>=0&&(e[n--]=o>>16&255),6===s?(n>=0&&(e[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(t=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<n.length;o++)s=(t=(0|n.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,n){var r,i,s,o=e.words,a=t.words,c=n.words,u=0,l=0|o[0],d=8191&l,h=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,y=0|o[2],g=8191&y,w=y>>>13,v=0|o[3],b=8191&v,_=v>>>13,M=0|o[4],S=8191&M,A=M>>>13,E=0|o[5],I=8191&E,T=E>>>13,k=0|o[6],x=8191&k,P=k>>>13,C=0|o[7],N=8191&C,O=C>>>13,K=0|o[8],R=8191&K,U=K>>>13,B=0|o[9],D=8191&B,L=B>>>13,j=0|a[0],F=8191&j,$=j>>>13,q=0|a[1],z=8191&q,G=q>>>13,W=0|a[2],J=8191&W,H=W>>>13,V=0|a[3],Z=8191&V,X=V>>>13,Y=0|a[4],Q=8191&Y,ee=Y>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],de=8191&le,he=le>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(u+(r=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,$))+Math.imul(h,F)|0))<<13)|0;u=((s=Math.imul(h,$))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,$))+Math.imul(m,F)|0,s=Math.imul(m,$);var ge=(u+(r=r+Math.imul(d,z)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,z)|0))<<13)|0;u=((s=s+Math.imul(h,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,F),i=(i=Math.imul(g,$))+Math.imul(w,F)|0,s=Math.imul(w,$),r=r+Math.imul(p,z)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,G)|0;var we=(u+(r=r+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,H)|0)+Math.imul(h,J)|0))<<13)|0;u=((s=s+Math.imul(h,H)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(b,F),i=(i=Math.imul(b,$))+Math.imul(_,F)|0,s=Math.imul(_,$),r=r+Math.imul(g,z)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(w,z)|0,s=s+Math.imul(w,G)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,H)|0;var ve=(u+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(h,Z)|0))<<13)|0;u=((s=s+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(S,F),i=(i=Math.imul(S,$))+Math.imul(A,F)|0,s=Math.imul(A,$),r=r+Math.imul(b,z)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(_,z)|0,s=s+Math.imul(_,G)|0,r=r+Math.imul(g,J)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(w,J)|0,s=s+Math.imul(w,H)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Z)|0,s=s+Math.imul(m,X)|0;var be=(u+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(I,F),i=(i=Math.imul(I,$))+Math.imul(T,F)|0,s=Math.imul(T,$),r=r+Math.imul(S,z)|0,i=(i=i+Math.imul(S,G)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,G)|0,r=r+Math.imul(b,J)|0,i=(i=i+Math.imul(b,H)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,H)|0,r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(w,Z)|0,s=s+Math.imul(w,X)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0;var _e=(u+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;u=((s=s+Math.imul(h,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(x,F),i=(i=Math.imul(x,$))+Math.imul(P,F)|0,s=Math.imul(P,$),r=r+Math.imul(I,z)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(T,z)|0,s=s+Math.imul(T,G)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,H)|0,r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(_,Z)|0,s=s+Math.imul(_,X)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,s=s+Math.imul(m,re)|0;var Me=(u+(r=r+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,oe)|0)+Math.imul(h,se)|0))<<13)|0;u=((s=s+Math.imul(h,oe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(N,F),i=(i=Math.imul(N,$))+Math.imul(O,F)|0,s=Math.imul(O,$),r=r+Math.imul(x,z)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(P,z)|0,s=s+Math.imul(P,G)|0,r=r+Math.imul(I,J)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(T,J)|0,s=s+Math.imul(T,H)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(A,Z)|0,s=s+Math.imul(A,X)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(w,ne)|0,s=s+Math.imul(w,re)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Se=(u+(r=r+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((s=s+Math.imul(h,ue)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,$))+Math.imul(U,F)|0,s=Math.imul(U,$),r=r+Math.imul(N,z)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(O,z)|0,s=s+Math.imul(O,G)|0,r=r+Math.imul(x,J)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(P,J)|0,s=s+Math.imul(P,H)|0,r=r+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(T,Z)|0,s=s+Math.imul(T,X)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(_,ne)|0,s=s+Math.imul(_,re)|0,r=r+Math.imul(g,se)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,s=s+Math.imul(m,ue)|0;var Ae=(u+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,$))+Math.imul(L,F)|0,s=Math.imul(L,$),r=r+Math.imul(R,z)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(U,z)|0,s=s+Math.imul(U,G)|0,r=r+Math.imul(N,J)|0,i=(i=i+Math.imul(N,H)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,H)|0,r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(P,Z)|0,s=s+Math.imul(P,X)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(T,Q)|0,s=s+Math.imul(T,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(A,ne)|0,s=s+Math.imul(A,re)|0,r=r+Math.imul(b,se)|0,i=(i=i+Math.imul(b,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,r=r+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(w,ce)|0,s=s+Math.imul(w,ue)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(m,de)|0,s=s+Math.imul(m,he)|0;var Ee=(u+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(h,pe)|0))<<13)|0;u=((s=s+Math.imul(h,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,z),i=(i=Math.imul(D,G))+Math.imul(L,z)|0,s=Math.imul(L,G),r=r+Math.imul(R,J)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(U,J)|0,s=s+Math.imul(U,H)|0,r=r+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(O,Z)|0,s=s+Math.imul(O,X)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(T,ne)|0,s=s+Math.imul(T,re)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,r=r+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(_,ce)|0,s=s+Math.imul(_,ue)|0,r=r+Math.imul(g,de)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(w,de)|0,s=s+Math.imul(w,he)|0;var Ie=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,J),i=(i=Math.imul(D,H))+Math.imul(L,J)|0,s=Math.imul(L,H),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(U,Z)|0,s=s+Math.imul(U,X)|0,r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(P,ne)|0,s=s+Math.imul(P,re)|0,r=r+Math.imul(I,se)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,r=r+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(A,ce)|0,s=s+Math.imul(A,ue)|0,r=r+Math.imul(b,de)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(_,de)|0,s=s+Math.imul(_,he)|0;var Te=(u+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(w,pe)|0))<<13)|0;u=((s=s+Math.imul(w,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,Z),i=(i=Math.imul(D,X))+Math.imul(L,Z)|0,s=Math.imul(L,X),r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(U,Q)|0,s=s+Math.imul(U,ee)|0,r=r+Math.imul(N,ne)|0,i=(i=i+Math.imul(N,re)|0)+Math.imul(O,ne)|0,s=s+Math.imul(O,re)|0,r=r+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(P,se)|0,s=s+Math.imul(P,oe)|0,r=r+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(T,ce)|0,s=s+Math.imul(T,ue)|0,r=r+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(A,de)|0,s=s+Math.imul(A,he)|0;var ke=(u+(r=r+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((s=s+Math.imul(_,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(L,Q)|0,s=Math.imul(L,ee),r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(U,ne)|0,s=s+Math.imul(U,re)|0,r=r+Math.imul(N,se)|0,i=(i=i+Math.imul(N,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,r=r+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(P,ce)|0,s=s+Math.imul(P,ue)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(T,de)|0,s=s+Math.imul(T,he)|0;var xe=(u+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,ne),i=(i=Math.imul(D,re))+Math.imul(L,ne)|0,s=Math.imul(L,re),r=r+Math.imul(R,se)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(U,se)|0,s=s+Math.imul(U,oe)|0,r=r+Math.imul(N,ce)|0,i=(i=i+Math.imul(N,ue)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,ue)|0,r=r+Math.imul(x,de)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(P,de)|0,s=s+Math.imul(P,he)|0;var Pe=(u+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(T,pe)|0))<<13)|0;u=((s=s+Math.imul(T,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(D,se),i=(i=Math.imul(D,oe))+Math.imul(L,se)|0,s=Math.imul(L,oe),r=r+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(U,ce)|0,s=s+Math.imul(U,ue)|0,r=r+Math.imul(N,de)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(O,de)|0,s=s+Math.imul(O,he)|0;var Ce=(u+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((s=s+Math.imul(P,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(L,ce)|0,s=Math.imul(L,ue),r=r+Math.imul(R,de)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(U,de)|0,s=s+Math.imul(U,he)|0;var Ne=(u+(r=r+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,me)|0)+Math.imul(O,pe)|0))<<13)|0;u=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,de),i=(i=Math.imul(D,he))+Math.imul(L,de)|0,s=Math.imul(L,he);var Oe=(u+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(U,pe)|0))<<13)|0;u=((s=s+Math.imul(U,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Ke=(u+(r=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(L,pe)|0))<<13)|0;return u=((s=Math.imul(L,me))+(i>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,c[0]=ye,c[1]=ge,c[2]=we,c[3]=ve,c[4]=be,c[5]=_e,c[6]=Me,c[7]=Se,c[8]=Ae,c[9]=Ee,c[10]=Ie,c[11]=Te,c[12]=ke,c[13]=xe,c[14]=Pe,c[15]=Ce,c[16]=Ne,c[17]=Oe,c[18]=Ke,0!==u&&(c[19]=u,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,c=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=c;u++){var l=s-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;a=67108863&(h=h+a|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function w(e,t,n){return g(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(y=m),s.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):n<63?m(this,e,t):n<1024?g(this,e,t):w(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=s.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},v.prototype.permute=function(e,t,n,r,i,s){for(var o=0;o<s;o++)r[o]=t[e[o]],i[o]=n[e[o]]},v.prototype.transform=function(e,t,n,r,i,s){this.permute(s,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,h=u,f=0;f<o;f++){var p=n[l+f],m=r[l+f],y=n[l+f+o],g=r[l+f+o],w=d*y-h*g;g=d*g+h*y,y=w,n[l+f]=p+y,r[l+f]=m+g,n[l+f+o]=p-y,r[l+f+o]=m-g,f!==a&&(w=c*d-u*h,h=c*h+u*d,d=w)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},v.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===s),r(0===(-8192&s))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,u,r),this.transform(o,s,a,c,r,i),this.transform(u,s,l,d,r,i);for(var f=0;f<r;f++){var p=a[f]*l[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,r),this.transform(a,c,h,s,r,i),this.conjugate(h,s,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),w(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<n;this.words[t]=c|o,o=a>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,c=n;if(i-=o,i=Math.max(0,i),c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-s|d>>>s,l=d&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,n){var i,s,o=e.length+n;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==t){(a=new s(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/o|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/e|0,n=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),o.isub(c)):(n.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:n.iushln(u)}},s.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var d=0,h=1;0===(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a)):(n.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new I(e)},s.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){I.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(M,_),M.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},M.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(S,_),i(A,_),i(E,_),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new M;else if("p224"===e)t=new S;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return b[e]=t,t},I.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},I.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},I.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},I.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},I.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},I.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},I.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},I.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},I.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},I.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},I.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},I.prototype.isqr=function(e){return this.imul(e,e.clone())},I.prototype.sqr=function(e){return this.mul(e,e)},I.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new s(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,y=0;0!==m.cmp(a);y++)m=m.redSqr();r(y<p);var g=this.pow(d,new s(1).iushln(p-y-1));h=h.redMul(g),d=g.redSqr(),f=f.redMul(d),p=y}return h},I.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},I.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var d=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==o?(o<<=1,o|=d,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}c=26}return i},I.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},I.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new T(e)},i(T,I),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},30306:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const u=c(n(20775)),l=c(n(96780)),d=a(n(59483)),h=new("function"!==typeof n.g.TextDecoder?d.TextDecoder:n.g.TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=r.from(e,"utf8")),l.default.encode(r.from(e))},t.baseDecode=function(e){return r.from(l.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class m{constructor(){this.buf=r.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",64)))}writeBuffer(e){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),e,r.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=r.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(r.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function y(e,t,n){const r=n.value;n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=m;class g{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new u.default(e,"le")}readU128(){const e=this.readBuffer(16);return new u.default(e,"le")}readU256(){const e=this.readBuffer(32);return new u.default(e,"le")}readU512(){const e=this.readBuffer(64);return new u.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(n){throw new p(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}function v(e,t,n,r,i){try{if("string"===typeof r)i[`write${w(r)}`](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new p(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"===typeof r[1]){if(n.length!==r[1])throw new p(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)v(e,null,n[t],r[0],i)}else i.writeArray(n,(n=>{v(e,t,n,r[0],i)}));else if(void 0!==r.kind){if("option"!==r.kind)throw new p(`FieldType ${r} unrecognized`);null===n||void 0===n?i.writeU8(0):(i.writeU8(1),v(e,t,n,r.type,i))}else b(e,n,i)}catch(s){throw s instanceof p&&s.addToFieldPath(t),s}}function b(e,t,n){if("function"===typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((r=>{let[i,s]=r;v(e,i,t[i],s,n)}));else{if("enum"!==r.kind)throw new p(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),v(e,o,t[o],a,n);break}}}}}function _(e,t,n,r){try{if("string"===typeof n)return r[`read${w(n)}`]();if(n instanceof Array){if("number"===typeof n[0])return r.readFixedArray(n[0]);if("number"===typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(_(e,null,n[0],r));return t}return r.readArray((()=>_(e,t,n[0],r)))}if("option"===n.kind){return r.readU8()?_(e,t,n.type,r):void 0}return M(e,n,r)}catch(i){throw i instanceof p&&i.addToFieldPath(t),i}}function M(e,t,n){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new p(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,s]of e.get(t).fields)r[i]=_(e,i,s,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p(`Enum index: ${i} is out of range`);const[s,o]=r.values[i];return new t({[s]:_(e,s,o,n)})}throw new p(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}o([y],g.prototype,"readU8",null),o([y],g.prototype,"readU16",null),o([y],g.prototype,"readU32",null),o([y],g.prototype,"readU64",null),o([y],g.prototype,"readU128",null),o([y],g.prototype,"readU256",null),o([y],g.prototype,"readU512",null),o([y],g.prototype,"readString",null),o([y],g.prototype,"readFixedArray",null),o([y],g.prototype,"readArray",null),t.BinaryReader=g,t.serialize=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;const r=new n;return b(e,t,r),r.toArray()},t.deserialize=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;const i=new r(n),s=M(e,t,i);if(i.offset<n.length)throw new p(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;const i=new r(n);return M(e,t,i)}},96780:(e,t,n)=>{var r=n(38339);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},66475:e=>{"use strict";function t(e,t){if("function"!==typeof e)throw new TypeError("argument fn must be a function");return e}function n(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable")}e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");function r(e){}return r._file=void 0,r._ignored=!0,r._namespace=e,r._traced=!1,r._warned=Object.create(null),r.function=t,r.property=n,r}},13411:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Account=void 0;const s=i(n(20775)),o=i(n(66475)),a=n(44101),c=n(24485),u=n(30306),l=n(7301),d=n(96906),h=n(84735),f=n(37474),p=i(n(85531));function m(e){return JSON.parse(r.from(e).toString())}function y(e){return r.from(JSON.stringify(e))}class g{constructor(e,t){this.accessKeyByPublicKeyCache={},this.connection=e,this.accountId=t}get ready(){return o.default("Account.ready()")("not needed anymore, always ready"),Promise.resolve()}async fetchState(){o.default("Account.fetchState()")("use `Account.state()` instead")}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}printLogsAndFailures(e,t){if(!{NODE_ENV:"production",PUBLIC_URL:"/ludex-join-solana",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEAR_NO_LOGS)for(const n of t)console.log(`Receipt${n.receiptIds.length>1?"s":""}: ${n.receiptIds.join(", ")}`),this.printLogs(e,n.logs,"\t"),n.failure&&console.warn(`\tFailure [${e}]: ${n.failure}`)}printLogs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!{NODE_ENV:"production",PUBLIC_URL:"/ludex-join-solana",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEAR_NO_LOGS)for(const r of t)console.log(`${n}Log [${e}]: ${r}`)}async signTransaction(e,t){const n=await this.findAccessKey(e,t);if(!n)throw new c.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair found in ${this.connection.signer}.`,"KeyNotFound");const{accessKey:r}=n,i=(await this.connection.provider.block({finality:"final"})).header.hash,s=++r.nonce;return await a.signTransaction(e,s,t,u.baseDecode(i),this.connection.signer,this.accountId,this.connection.networkId)}signAndSendTransaction(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this.signAndSendTransactionV1(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):this.signAndSendTransactionV2(arguments.length<=0?void 0:arguments[0])}signAndSendTransactionV1(e,t){return o.default("Account.signAndSendTransaction(receiverId, actions")("use `Account.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),this.signAndSendTransactionV2({receiverId:e,actions:t})}async signAndSendTransactionV2(e){let t,n,{receiverId:r,actions:i,returnError:s}=e;const o=await p.default(500,12,1.5,(async()=>{[t,n]=await this.signTransaction(r,i);const e=n.transaction.publicKey;try{return await this.connection.provider.sendTransaction(n)}catch(s){if("InvalidNonce"===s.type)return d.logWarning(`Retrying transaction ${r}:${u.baseEncode(t)} with new nonce.`),delete this.accessKeyByPublicKeyCache[e.toString()],null;if("Expired"===s.type)return d.logWarning(`Retrying transaction ${r}:${u.baseEncode(t)} due to expired block hash`),null;throw s.context=new c.ErrorContext(u.baseEncode(t)),s}}));if(!o)throw new c.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");const a=[o.transaction_outcome,...o.receipts_outcome].reduce(((e,t)=>t.outcome.logs.length||"object"===typeof t.outcome.status&&"object"===typeof t.outcome.status.Failure?e.concat({receiptIds:t.outcome.receipt_ids,logs:t.outcome.logs,failure:"undefined"!=typeof t.outcome.status.Failure?h.parseRpcError(t.outcome.status.Failure):null}):e),[]);if(this.printLogsAndFailures(n.transaction.receiverId,a),!s&&"object"===typeof o.status&&"object"===typeof o.status.Failure)throw o.status.Failure.error_message&&o.status.Failure.error_type?new c.TypedError(`Transaction ${o.transaction_outcome.id} failed. ${o.status.Failure.error_message}`,o.status.Failure.error_type):h.parseResultError(o);return o}async findAccessKey(e,t){const n=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!n)return null;const r=this.accessKeyByPublicKeyCache[n.toString()];if(void 0!==r)return{publicKey:n,accessKey:r};try{const e=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:n.toString(),finality:"optimistic"});return this.accessKeyByPublicKeyCache[n.toString()]?{publicKey:n,accessKey:this.accessKeyByPublicKeyCache[n.toString()]}:(this.accessKeyByPublicKeyCache[n.toString()]=e,{publicKey:n,accessKey:e})}catch(i){if("AccessKeyDoesNotExist"==i.type)return null;throw i}}async createAndDeployContract(e,t,n,r){const i=a.fullAccessKey();await this.signAndSendTransaction({receiverId:e,actions:[a.createAccount(),a.transfer(r),a.addKey(l.PublicKey.from(t),i),a.deployContract(n)]});return new g(this.connection,e)}async sendMoney(e,t){return this.signAndSendTransaction({receiverId:e,actions:[a.transfer(t)]})}async createAccount(e,t,n){const r=a.fullAccessKey();return this.signAndSendTransaction({receiverId:e,actions:[a.createAccount(),a.transfer(n),a.addKey(l.PublicKey.from(t),r)]})}async deleteAccount(e){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.deleteAccount(e)]})}async deployContract(e){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.deployContract(e)]})}async functionCall(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this.functionCallV1(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4]):this.functionCallV2(arguments.length<=0?void 0:arguments[0])}functionCallV1(e,t,n,r,i){return o.default("Account.functionCall(contractId, methodName, args, gas, amount)")("use `Account.functionCall(FunctionCallOptions)` instead"),n=n||{},this.validateArgs(n),this.signAndSendTransaction({receiverId:e,actions:[a.functionCall(t,n,r||f.DEFAULT_FUNCTION_CALL_GAS,i)]})}functionCallV2(e){let{contractId:t,methodName:n,args:r={},gas:i=f.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:s,walletMeta:o,walletCallbackUrl:c,stringify:u}=e;this.validateArgs(r);const l=void 0===u?a.stringifyJsonOrBytes:u;return this.signAndSendTransaction({receiverId:t,actions:[a.functionCall(n,r,i,s,l)],walletMeta:o,walletCallbackUrl:c})}async addKey(e,t,n,r){let i;return n||(n=[]),Array.isArray(n)||(n=[n]),i=t?a.functionCallAccessKey(t,n,r):a.fullAccessKey(),this.signAndSendTransaction({receiverId:this.accountId,actions:[a.addKey(l.PublicKey.from(e),i)]})}async deleteKey(e){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.deleteKey(l.PublicKey.from(e))]})}async stake(e,t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[a.stake(t,l.PublicKey.from(e))]})}validateArgs(e){if(!(void 0!==e.byteLength&&e.byteLength===e.length)&&(Array.isArray(e)||"object"!==typeof e))throw new d.PositionalArgsError}async viewFunction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{parse:i=m,stringify:s=y}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.validateArgs(n);const o=s(n).toString("base64"),a=await this.connection.provider.query({request_type:"call_function",account_id:e,method_name:t,args_base64:o,finality:"optimistic"});return a.logs&&this.printLogs(e,a.logs),a.result&&a.result.length>0&&i(r.from(a.result))}async viewState(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{finality:"optimistic"};const{values:n}=await this.connection.provider.query({request_type:"view_state",...t,account_id:this.accountId,prefix_base64:r.from(e).toString("base64")});return n.map((e=>{let{key:t,value:n}=e;return{key:r.from(t,"base64"),value:r.from(n,"base64")}}))}async getAccessKeys(){const e=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return Array.isArray(e)?e:e.keys}async getAccountDetails(){return{authorizedApps:(await this.getAccessKeys()).filter((e=>"FullAccess"!==e.access_key.permission)).map((e=>{const t=e.access_key.permission;return{contractId:t.FunctionCall.receiver_id,amount:t.FunctionCall.allowance,publicKey:e.public_key}}))}}async getAccountBalance(){const e=await this.connection.provider.experimental_protocolConfig({finality:"final"}),t=await this.state(),n=new s.default(e.runtime_config.storage_amount_per_byte),r=new s.default(t.storage_usage).mul(n),i=new s.default(t.locked),o=new s.default(t.amount).add(i),a=o.sub(s.default.max(i,r));return{total:o.toString(),stateStaked:r.toString(),staked:i.toString(),available:a.toString()}}}t.Account=g},59654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlAccountCreator=t.LocalAccountCreator=t.AccountCreator=void 0;const r=n(76425);class i{}t.AccountCreator=i;t.LocalAccountCreator=class extends i{constructor(e,t){super(),this.masterAccount=e,this.initialBalance=t}async createAccount(e,t){await this.masterAccount.createAccount(e,t,this.initialBalance)}};t.UrlAccountCreator=class extends i{constructor(e,t){super(),this.connection=e,this.helperUrl=t}async createAccount(e,t){await r.fetchJson(`${this.helperUrl}/account`,JSON.stringify({newAccountId:e,newAccountPublicKey:t.toString()}))}}},30187:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Account2FA=t.AccountMultisig=t.MULTISIG_CONFIRM_METHODS=t.MULTISIG_CHANGE_METHODS=t.MULTISIG_DEPOSIT=t.MULTISIG_GAS=t.MULTISIG_ALLOWANCE=t.MULTISIG_STORAGE_KEY=void 0;const s=i(n(20775)),o=i(n(66475)),a=n(13411),c=n(34763),u=n(7301),l=n(44101),d=n(76425);t.MULTISIG_STORAGE_KEY="__multisigRequest",t.MULTISIG_ALLOWANCE=new s.default(c.parseNearAmount("1")),t.MULTISIG_GAS=new s.default("100000000000000"),t.MULTISIG_DEPOSIT=new s.default("0"),t.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],t.MULTISIG_CONFIRM_METHODS=["confirm"];const h={[t.MULTISIG_STORAGE_KEY]:null};class f extends a.Account{constructor(e,t,n){super(e,t),this.storage=n.storage,this.onAddRequestResult=n.onAddRequestResult}async signAndSendTransactionWithAccount(e,t){return super.signAndSendTransaction({receiverId:e,actions:t})}signAndSendTransaction(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this._signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]}):this._signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}async _signAndSendTransaction(e){let{receiverId:n,actions:i}=e;const{accountId:s}=this,o=r.from(JSON.stringify({request:{receiver_id:n,actions:m(i,s,n)}}));let a;try{a=await super.signAndSendTransaction({receiverId:s,actions:[l.functionCall("add_request_and_confirm",o,t.MULTISIG_GAS,t.MULTISIG_DEPOSIT)]})}catch(u){if(u.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction(n,i);throw u}if(!a.status)throw new Error("Request failed");const c={...a.status};if(!c.SuccessValue||"string"!==typeof c.SuccessValue)throw new Error("Request failed");return this.setRequest({accountId:s,actions:i,requestId:parseInt(r.from(c.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(a),this.deleteUnconfirmedRequests(),a}async deleteUnconfirmedRequests(){const e=await this.getRequestIds(),{requestId:n}=this.getRequest();for(const i of e)if(i!=n)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[l.functionCall("delete_request",{request_id:i},t.MULTISIG_GAS,t.MULTISIG_DEPOSIT)]})}catch(r){console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction(this.accountId,"list_request_ids")}getRequest(){return this.storage?JSON.parse(this.storage.getItem(t.MULTISIG_STORAGE_KEY)||"{}"):h[t.MULTISIG_STORAGE_KEY]}setRequest(e){if(this.storage)return this.storage.setItem(t.MULTISIG_STORAGE_KEY,JSON.stringify(e));h[t.MULTISIG_STORAGE_KEY]=e}}t.AccountMultisig=f;t.Account2FA=class extends f{constructor(e,t,n){super(e,t,n),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=n.helperUrl||this.helperUrl,this.storage=n.storage,this.sendCode=n.sendCode||this.sendCodeDefault,this.getCode=n.getCode||this.getCodeDefault,this.verifyCode=n.verifyCode||this.verifyCodeDefault,this.onConfirmResult=n.onConfirmResult}async signAndSendTransaction(){if("string"===typeof(arguments.length<=0?void 0:arguments[0])){return o.default("Account.signAndSendTransaction(receiverId, actions")("use `Account2FA.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),this.__signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]})}return this.__signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}async __signAndSendTransaction(e){let{receiverId:t,actions:n}=e;await super.signAndSendTransaction({receiverId:t,actions:n}),await this.sendCode();const r=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(r),r}async deployMultisig(e){const{accountId:n}=this,i=(await this.getRecoveryMethods()).data.filter((e=>{let{kind:t,publicKey:n}=e;return("phrase"===t||"ledger"===t)&&null!==n})).map((e=>e.publicKey)),s=(await this.getAccessKeys()).filter((e=>{let{public_key:t,access_key:{permission:n}}=e;return"FullAccess"===n&&!i.includes(t)})).map((e=>e.public_key)).map(p),o=p((await this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),a=r.from(JSON.stringify({num_confirmations:2})),c=[...s.map((e=>l.deleteKey(e))),...s.map((e=>l.addKey(e,l.functionCallAccessKey(n,t.MULTISIG_CHANGE_METHODS,null)))),l.addKey(o,l.functionCallAccessKey(n,t.MULTISIG_CONFIRM_METHODS,null)),l.deployContract(e)];return"11111111111111111111111111111111"===(await this.state()).code_hash&&c.push(l.functionCall("new",a,t.MULTISIG_GAS,t.MULTISIG_DEPOSIT)),console.log("deploying multisig contract for",n),await super.signAndSendTransactionWithAccount(n,c)}async disable(e){const{accountId:t}=this,n=(await this.getAccessKeys()).filter((e=>{let{access_key:t}=e;return"FullAccess"!==t.permission})).filter((e=>{let{access_key:n}=e;const r=n.permission.FunctionCall;return r.receiver_id===t&&4===r.method_names.length&&r.method_names.includes("add_request_and_confirm")})),r=u.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:t})).publicKey),i=[l.deleteKey(r),...n.map((e=>{let{public_key:t}=e;return l.deleteKey(u.PublicKey.from(t))})),...n.map((e=>{let{public_key:t}=e;return l.addKey(u.PublicKey.from(t),null)})),l.deployContract(e)];return console.log("disabling 2fa for",t),await this.signAndSendTransaction({receiverId:t,actions:i})}async sendCodeDefault(){const{accountId:e}=this,{requestId:t}=this.getRequest(),n=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:e,method:n,requestId:t}),t}async getCodeDefault(e){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){const e=await this.get2faMethod(),t=await this.getCode(e);try{return await this.verifyCode(t)}catch(n){if(console.warn("Error validating security code:",n),n.toString().includes("invalid 2fa code provided")||n.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw n}}async verifyCodeDefault(e){const{accountId:t}=this,n=this.getRequest();if(!n)throw new Error("no request pending");const{requestId:r}=n;return await this.postSignedJson("/2fa/verify",{accountId:t,securityCode:e,requestId:r})}async getRecoveryMethods(){const{accountId:e}=this;return{accountId:e,data:await this.postSignedJson("/account/recoveryMethods",{accountId:e})}}async get2faMethod(){let{data:e}=await this.getRecoveryMethods();if(e&&e.length&&(e=e.find((e=>0===e.kind.indexOf("2fa-")))),!e)return null;const{kind:t,detail:n}=e;return{kind:t,detail:n}}async signatureFor(){const{accountId:e}=this,t=(await this.connection.provider.block({finality:"final"})).header.height.toString(),n=await this.connection.signer.signMessage(r.from(t),e,this.connection.networkId);return{blockNumber:t,blockNumberSignature:r.from(n.signature).toString("base64")}}async postSignedJson(e,t){return await d.fetchJson(this.helperUrl+e,JSON.stringify({...t,...await this.signatureFor()}))}};const p=e=>u.PublicKey.from(e),m=(e,n,i)=>e.map((e=>{const s=e.enum,{gas:o,publicKey:a,methodName:c,args:u,deposit:l,accessKey:d,code:h}=e[s],f={type:s[0].toUpperCase()+s.substr(1),gas:o&&o.toString()||void 0,public_key:a&&(p=a,p.toString().replace("ed25519:",""))||void 0,method_name:c,args:u&&r.from(u).toString("base64")||void 0,code:h&&r.from(h).toString("base64")||void 0,amount:l&&l.toString()||void 0,deposit:l&&l.toString()||"0",permission:void 0};var p;if(d&&(i===n&&"fullAccess"!==d.permission.enum&&(f.permission={receiver_id:n,allowance:t.MULTISIG_ALLOWANCE.toString(),method_names:t.MULTISIG_CHANGE_METHODS}),"functionCall"===d.permission.enum)){const{receiverId:e,methodNames:t,allowance:n}=d.permission.functionCall;f.permission={receiver_id:e,allowance:n&&n.toString()||void 0,method_names:t}}return f}))},62871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;const r=n(50873);t.connect=async function(e){return new r.Near(e)}},34917:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.keyStores=s(n(17221)),o(n(12256),t),o(n(62871),t),n(12305)},12256:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnection=t.WalletAccount=t.ConnectedWalletAccount=t.Near=t.KeyPair=t.Signer=t.InMemorySigner=t.Contract=t.Connection=t.Account=t.multisig=t.validators=t.transactions=t.utils=t.providers=t.accountCreator=void 0;const o=s(n(24485));t.providers=o;const a=s(n(20496));t.utils=a;const c=s(n(44101));t.transactions=c;const u=s(n(93108));t.validators=u;const l=n(13411);Object.defineProperty(t,"Account",{enumerable:!0,get:function(){return l.Account}});const d=s(n(30187));t.multisig=d;const h=s(n(59654));t.accountCreator=h;const f=n(26455);Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return f.Connection}});const p=n(61016);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return p.Signer}}),Object.defineProperty(t,"InMemorySigner",{enumerable:!0,get:function(){return p.InMemorySigner}});const m=n(15859);Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return m.Contract}});const y=n(7301);Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return y.KeyPair}});const g=n(50873);Object.defineProperty(t,"Near",{enumerable:!0,get:function(){return g.Near}});const w=n(81251);Object.defineProperty(t,"ConnectedWalletAccount",{enumerable:!0,get:function(){return w.ConnectedWalletAccount}}),Object.defineProperty(t,"WalletAccount",{enumerable:!0,get:function(){return w.WalletAccount}}),Object.defineProperty(t,"WalletConnection",{enumerable:!0,get:function(){return w.WalletConnection}})},26455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;const r=n(24485),i=n(61016);class s{constructor(e,t,n){this.networkId=e,this.provider=t,this.signer=n}static fromConfig(e){const t=function(e){switch(e.type){case void 0:return e;case"JsonRpcProvider":return new r.JsonRpcProvider({...e.args});default:throw new Error(`Unknown provider type ${e.type}`)}}(e.provider),n=function(e){switch(e.type){case void 0:return e;case"InMemorySigner":return new i.InMemorySigner(e.keyStore);default:throw new Error(`Unknown signer type ${e.type}`)}}(e.signer);return new s(e.networkId,t,n)}}t.Connection=s},37474:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FUNCTION_CALL_GAS=void 0;const i=r(n(20775));t.DEFAULT_FUNCTION_CALL_GAS=new i.default("30000000000000")},15859:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Contract=void 0;const i=r(n(20775)),s=r(n(66475)),o=n(24485),a=n(96906);function c(e,t){return{[e](){return t(...arguments)}}[e]}const u=e=>e&&void 0!==e.byteLength&&e.byteLength===e.length,l=e=>"[object Object]"===Object.prototype.toString.call(e);t.Contract=class{constructor(e,t,n){var r=this;this.account=e,this.contractId=t;const{viewMethods:i=[],changeMethods:o=[]}=n;i.forEach((e=>{Object.defineProperty(this,e,{writable:!1,enumerable:!0,value:c(e,(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(arguments.length<=2)&&arguments.length-2||!l(t)&&!u(t)||!l(n))throw new a.PositionalArgsError;return r.account.viewFunction(r.contractId,e,t,n)}))})})),o.forEach((e=>{Object.defineProperty(this,e,{writable:!1,enumerable:!0,value:c(e,(async function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length&&(n.length>3||!l(n[0])&&!u(n[0])))throw new a.PositionalArgsError;if(n.length>1||!n[0]||!n[0].args){return s.default("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),r._changeMethod({methodName:e,args:n[0],gas:n[1],amount:n[2]})}return r._changeMethod({methodName:e,...n[0]})}))})}))}async _changeMethod(e){let{args:t,methodName:n,gas:r,amount:s,meta:c,callbackUrl:u}=e;!function(e){const t="number, decimal string or BN";for(const n of Object.keys(e)){const r=e[n];if(r&&!i.default.isBN(r)&&isNaN(r))throw new a.ArgumentTypeError(n,t,r)}}({gas:r,amount:s});const l=await this.account.functionCall({contractId:this.contractId,methodName:n,args:t,gas:r,attachedDeposit:s,walletMeta:c,walletCallbackUrl:u});return o.getTransactionLastResult(l)}}},17221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=t.BrowserLocalStorageKeyStore=t.InMemoryKeyStore=t.KeyStore=void 0;const r=n(95512);Object.defineProperty(t,"KeyStore",{enumerable:!0,get:function(){return r.KeyStore}});const i=n(3434);Object.defineProperty(t,"InMemoryKeyStore",{enumerable:!0,get:function(){return i.InMemoryKeyStore}});const s=n(26806);Object.defineProperty(t,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return s.BrowserLocalStorageKeyStore}});const o=n(23826);Object.defineProperty(t,"MergeKeyStore",{enumerable:!0,get:function(){return o.MergeKeyStore}})},26806:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserLocalStorageKeyStore=void 0;const r=n(95512),i=n(7301);class s extends r.KeyStore{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"near-api-js:keystore:";super(),this.localStorage=e,this.prefix=t}async setKey(e,t,n){this.localStorage.setItem(this.storageKeyForSecretKey(e,t),n.toString())}async getKey(e,t){const n=this.localStorage.getItem(this.storageKeyForSecretKey(e,t));return n?i.KeyPair.fromString(n):null}async removeKey(e,t){this.localStorage.removeItem(this.storageKeyForSecretKey(e,t))}async clear(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)}async getNetworks(){const e=new Set;for(const t of this.storageKeys())if(t.startsWith(this.prefix)){const n=t.substring(this.prefix.length).split(":");e.add(n[1])}return Array.from(e.values())}async getAccounts(e){const t=new Array;for(const n of this.storageKeys())if(n.startsWith(this.prefix)){const r=n.substring(this.prefix.length).split(":");r[1]===e&&t.push(r[0])}return t}storageKeyForSecretKey(e,t){return`${this.prefix}${t}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}}t.BrowserLocalStorageKeyStore=s},3434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryKeyStore=void 0;const r=n(95512),i=n(7301);class s extends r.KeyStore{constructor(){super(),this.keys={}}async setKey(e,t,n){this.keys[`${t}:${e}`]=n.toString()}async getKey(e,t){const n=this.keys[`${t}:${e}`];return n?i.KeyPair.fromString(n):null}async removeKey(e,t){delete this.keys[`${t}:${e}`]}async clear(){this.keys={}}async getNetworks(){const e=new Set;return Object.keys(this.keys).forEach((t=>{const n=t.split(":");e.add(n[1])})),Array.from(e.values())}async getAccounts(e){const t=new Array;return Object.keys(this.keys).forEach((n=>{const r=n.split(":");r[r.length-1]===e&&t.push(r.slice(0,r.length-1).join(":"))})),t}toString(){return"InMemoryKeyStore"}}t.InMemoryKeyStore=s},95512:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyStore=void 0;t.KeyStore=class{}},23826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeKeyStore=void 0;const r=n(95512);class i extends r.KeyStore{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{writeKeyStoreIndex:0};super(),this.options=t,this.keyStores=e}async setKey(e,t,n){await this.keyStores[this.options.writeKeyStoreIndex].setKey(e,t,n)}async getKey(e,t){for(const n of this.keyStores){const r=await n.getKey(e,t);if(r)return r}return null}async removeKey(e,t){for(const n of this.keyStores)await n.removeKey(e,t)}async clear(){for(const e of this.keyStores)await e.clear()}async getNetworks(){const e=new Set;for(const t of this.keyStores)for(const n of await t.getNetworks())e.add(n);return Array.from(e)}async getAccounts(e){const t=new Set;for(const n of this.keyStores)for(const r of await n.getAccounts(e))t.add(r);return Array.from(t)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}t.MergeKeyStore=i},50873:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Near=void 0;const i=r(n(20775)),s=n(13411),o=n(26455),a=n(15859),c=n(59654);t.Near=class{constructor(e){if(this.config=e,this.connection=o.Connection.fromConfig({networkId:e.networkId,provider:{type:"JsonRpcProvider",args:{url:e.nodeUrl,headers:e.headers}},signer:e.signer||{type:"InMemorySigner",keyStore:e.keyStore||e.deps.keyStore}}),e.masterAccount){const t=e.initialBalance?new i.default(e.initialBalance):new i.default("500000000000000000000000000");this.accountCreator=new c.LocalAccountCreator(new s.Account(this.connection,e.masterAccount),t)}else e.helperUrl?this.accountCreator=new c.UrlAccountCreator(this.connection,e.helperUrl):this.accountCreator=null}async account(e){return new s.Account(this.connection,e)}async createAccount(e,t){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(e,t),new s.Account(this.connection,e)}async loadContract(e,t){const n=new s.Account(this.connection,t.sender);return new a.Contract(n,e,t)}async sendTokens(e,t,n){console.warn("near.sendTokens is deprecated. Use `yourAccount.sendMoney` instead.");const r=new s.Account(this.connection,t);return(await r.sendMoney(n,e)).transaction_outcome.id}}},24485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorContext=t.TypedError=t.getTransactionLastResult=t.FinalExecutionStatusBasic=t.JsonRpcProvider=t.Provider=void 0;const r=n(84834);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return r.Provider}}),Object.defineProperty(t,"getTransactionLastResult",{enumerable:!0,get:function(){return r.getTransactionLastResult}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return r.FinalExecutionStatusBasic}});const i=n(31111);Object.defineProperty(t,"JsonRpcProvider",{enumerable:!0,get:function(){return i.JsonRpcProvider}}),Object.defineProperty(t,"TypedError",{enumerable:!0,get:function(){return i.TypedError}}),Object.defineProperty(t,"ErrorContext",{enumerable:!0,get:function(){return i.ErrorContext}})},31111:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcProvider=t.ErrorContext=t.TypedError=void 0;const s=i(n(66475)),o=n(84834),a=n(76425),c=n(96906);Object.defineProperty(t,"TypedError",{enumerable:!0,get:function(){return c.TypedError}}),Object.defineProperty(t,"ErrorContext",{enumerable:!0,get:function(){return c.ErrorContext}});const u=n(30306),l=i(n(85531)),d=n(84735);let h=123;class f extends o.Provider{constructor(e){if(super(),null!=e&&"object"==typeof e)this.connection=e;else{s.default("JsonRpcProvider(url?: string)")("use `JsonRpcProvider(connectionInfo: ConnectionInfo)` instead"),this.connection={url:e}}}async status(){return this.sendJsonRpc("status",[])}async sendTransaction(e){const t=e.encode();return this.sendJsonRpc("broadcast_tx_commit",[r.from(t).toString("base64")])}async sendTransactionAsync(e){const t=e.encode();return this.sendJsonRpc("broadcast_tx_async",[r.from(t).toString("base64")])}async txStatus(e,t){return"string"===typeof e?this.txStatusString(e,t):this.txStatusUint8Array(e,t)}async txStatusUint8Array(e,t){return this.sendJsonRpc("tx",[u.baseEncode(e),t])}async txStatusString(e,t){return this.sendJsonRpc("tx",[e,t])}async txStatusReceipts(e,t){return this.sendJsonRpc("EXPERIMENTAL_tx_status",[u.baseEncode(e),t])}async query(){let e;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(1===n.length)e=await this.sendJsonRpc("query",n[0]);else{const[t,r]=n;e=await this.sendJsonRpc("query",[t,r])}if(e&&e.error)throw new c.TypedError(`Querying ${n} failed: ${e.error}.\n${JSON.stringify(e,null,2)}`,d.getErrorTypeFromErrorMessage(e.error));return e}async block(e){const{finality:t}=e;let{blockId:n}=e;if("object"!==typeof e){s.default("JsonRpcProvider.block(blockId)")("use `block({ blockId })` or `block({ finality })` instead"),n=e}return this.sendJsonRpc("block",{block_id:n,finality:t})}async blockChanges(e){const{finality:t}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:n,finality:t})}async chunk(e){return this.sendJsonRpc("chunk",[e])}async validators(e){return this.sendJsonRpc("validators",[e])}async experimental_genesisConfig(){return s.default("JsonRpcProvider.experimental_protocolConfig()")("use `experimental_protocolConfig({ sync_checkpoint: 'genesis' })` to fetch the up-to-date or genesis protocol config explicitly"),await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{sync_checkpoint:"genesis"})}async experimental_protocolConfig(e){return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",e)}async experimental_lightClientProof(e){return s.default("JsonRpcProvider.experimental_lightClientProof(request)")("use `lightClientProof` instead"),await this.lightClientProof(e)}async lightClientProof(e){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",e)}async accessKeyChanges(e,t){const{finality:n}=t,{blockId:r}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:e,block_id:r,finality:n})}async singleAccessKeyChanges(e,t){const{finality:n}=t,{blockId:r}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:e,block_id:r,finality:n})}async accountChanges(e,t){const{finality:n}=t,{blockId:r}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:e,block_id:r,finality:n})}async contractStateChanges(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const{finality:r}=t,{blockId:i}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:e,key_prefix_base64:n,block_id:i,finality:r})}async contractCodeChanges(e,t){const{finality:n}=t,{blockId:r}=t;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:e,block_id:r,finality:n})}async gasPrice(e){return await this.sendJsonRpc("gas_price",[e])}async sendJsonRpc(e,t){const n=await l.default(500,12,1.5,(async()=>{try{const n={method:e,params:t,id:h++,jsonrpc:"2.0"},r=await a.fetchJson(this.connection,JSON.stringify(n));if(r.error){if("object"===typeof r.error.data){if("string"===typeof r.error.data.error_message&&"string"===typeof r.error.data.error_type)throw new c.TypedError(r.error.data.error_message,r.error.data.error_type);throw d.parseRpcError(r.error.data)}{const e=`[${r.error.code}] ${r.error.message}: ${r.error.data}`;if("Timeout"===r.error.data||e.includes("Timeout error")||e.includes("query has timed out"))throw new c.TypedError(e,"TimeoutError");throw new c.TypedError(e,d.getErrorTypeFromErrorMessage(r.error.data))}}return r}catch(n){if("TimeoutError"===n.type)return{NODE_ENV:"production",PUBLIC_URL:"/ludex-join-solana",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.NEAR_NO_LOGS||console.warn(`Retrying request to ${e} as it has timed out`,t),null;throw n}})),{result:r}=n;if("undefined"===typeof r)throw new c.TypedError(`Exceeded 12 attempts for request to ${e}.`,"RetriesExceeded");return r}}t.JsonRpcProvider=f},84834:(e,t,n)=>{"use strict";var r=n(30261).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionLastResult=t.Provider=t.IdType=t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=void 0,function(e){e.Unknown="Unknown",e.Pending="Pending",e.Failure="Failure"}(t.ExecutionStatusBasic||(t.ExecutionStatusBasic={})),function(e){e.NotStarted="NotStarted",e.Started="Started",e.Failure="Failure"}(t.FinalExecutionStatusBasic||(t.FinalExecutionStatusBasic={})),function(e){e.Transaction="transaction",e.Receipt="receipt"}(t.IdType||(t.IdType={}));t.Provider=class{},t.getTransactionLastResult=function(e){if("object"===typeof e.status&&"string"===typeof e.status.SuccessValue){const n=r.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(n)}catch(t){return n}}return null}},61016:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySigner=t.Signer=void 0;const i=r(n(83695)),s=n(7301),o=n(3434);class a{}t.Signer=a;class c extends a{constructor(e){super(),this.keyStore=e}static async fromKeyPair(e,t,n){const r=new o.InMemoryKeyStore;return await r.setKey(e,t,n),new c(r)}async createKey(e,t){const n=s.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(t,e,n),n.getPublicKey()}async getPublicKey(e,t){const n=await this.keyStore.getKey(t,e);return null===n?null:n.getPublicKey()}async signMessage(e,t,n){const r=new Uint8Array(i.default.sha256.array(e));if(!t)throw new Error("InMemorySigner requires provided account id");const s=await this.keyStore.getKey(n,t);if(null===s)throw new Error(`Key for ${t} not found in ${n}`);return s.sign(r)}toString(){return`InMemorySigner(${this.keyStore})`}}t.InMemorySigner=c},44101:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signTransaction=t.createTransaction=t.SCHEMA=t.Action=t.SignedTransaction=t.Transaction=t.Signature=t.deleteAccount=t.deleteKey=t.addKey=t.stake=t.transfer=t.functionCall=t.stringifyJsonOrBytes=t.deployContract=t.createAccount=t.DeleteAccount=t.DeleteKey=t.AddKey=t.Stake=t.Transfer=t.FunctionCall=t.DeployContract=t.CreateAccount=t.IAction=t.functionCallAccessKey=t.fullAccessKey=t.AccessKey=t.AccessKeyPermission=t.FullAccessPermission=t.FunctionCallPermission=void 0;const s=i(n(83695)),o=n(33584),a=n(30306),c=n(7301);class u extends o.Assignable{}t.FunctionCallPermission=u;class l extends o.Assignable{}t.FullAccessPermission=l;class d extends o.Enum{}t.AccessKeyPermission=d;class h extends o.Assignable{}t.AccessKey=h,t.fullAccessKey=function(){return new h({nonce:0,permission:new d({fullAccess:new l({})})})},t.functionCallAccessKey=function(e,t,n){return new h({nonce:0,permission:new d({functionCall:new u({receiverId:e,allowance:n,methodNames:t})})})};class f extends o.Assignable{}t.IAction=f;class p extends f{}t.CreateAccount=p;class m extends f{}t.DeployContract=m;class y extends f{}t.FunctionCall=y;class g extends f{}t.Transfer=g;class w extends f{}t.Stake=w;class v extends f{}t.AddKey=v;class b extends f{}t.DeleteKey=b;class _ extends f{}function M(e){return void 0!==e.byteLength&&e.byteLength===e.length?e:r.from(JSON.stringify(e))}t.DeleteAccount=_,t.createAccount=function(){return new I({createAccount:new p({})})},t.deployContract=function(e){return new I({deployContract:new m({code:e})})},t.stringifyJsonOrBytes=M,t.functionCall=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:M;return new I({functionCall:new y({methodName:e,args:i(t),gas:n,deposit:r})})},t.transfer=function(e){return new I({transfer:new g({deposit:e})})},t.stake=function(e,t){return new I({stake:new w({stake:e,publicKey:t})})},t.addKey=function(e,t){return new I({addKey:new v({publicKey:e,accessKey:t})})},t.deleteKey=function(e){return new I({deleteKey:new b({publicKey:e})})},t.deleteAccount=function(e){return new I({deleteAccount:new _({beneficiaryId:e})})};class S extends o.Assignable{}t.Signature=S;class A extends o.Assignable{encode(){return a.serialize(t.SCHEMA,this)}static decode(e){return a.deserialize(t.SCHEMA,A,e)}}t.Transaction=A;class E extends o.Assignable{encode(){return a.serialize(t.SCHEMA,this)}static decode(e){return a.deserialize(t.SCHEMA,E,e)}}t.SignedTransaction=E;class I extends o.Enum{}function T(e,t,n,r,i,s){return new A({signerId:e,publicKey:t,nonce:r,receiverId:n,actions:i,blockHash:s})}async function k(e,n,r,i){const o=a.serialize(t.SCHEMA,e),c=new Uint8Array(s.default.sha256.array(o)),u=await n.signMessage(o,r,i);return[c,new E({transaction:e,signature:new S({keyType:e.publicKey.keyType,data:u.signature})})]}t.Action=I,t.SCHEMA=new Map([[S,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[E,{kind:"struct",fields:[["transaction",A],["signature",S]]}],[A,{kind:"struct",fields:[["signerId","string"],["publicKey",c.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[I]]]}],[c.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[h,{kind:"struct",fields:[["nonce","u64"],["permission",d]]}],[d,{kind:"enum",field:"enum",values:[["functionCall",u],["fullAccess",l]]}],[u,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[l,{kind:"struct",fields:[]}],[I,{kind:"enum",field:"enum",values:[["createAccount",p],["deployContract",m],["functionCall",y],["transfer",g],["stake",w],["addKey",v],["deleteKey",b],["deleteAccount",_]]}],[p,{kind:"struct",fields:[]}],[m,{kind:"struct",fields:[["code",["u8"]]]}],[y,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[g,{kind:"struct",fields:[["deposit","u128"]]}],[w,{kind:"struct",fields:[["stake","u128"],["publicKey",c.PublicKey]]}],[v,{kind:"struct",fields:[["publicKey",c.PublicKey],["accessKey",h]]}],[b,{kind:"struct",fields:[["publicKey",c.PublicKey]]}],[_,{kind:"struct",fields:[["beneficiaryId","string"]]}]]),t.createTransaction=T,t.signTransaction=async function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0].constructor===A){const[e,n,r,i]=t;return k(e,n,r,i)}{const[e,n,r,i,s,o,a]=t;return k(T(o,await s.getPublicKey(o,a),e,n,r,i),s,o,a)}}},33584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Assignable=t.Enum=void 0;t.Enum=class{constructor(e){if(1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((t=>{this[t]=e[t],this.enum=t}))}};t.Assignable=class{constructor(e){Object.keys(e).map((t=>{this[t]=e[t]}))}}},96906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logWarning=t.ErrorContext=t.TypedError=t.ArgumentTypeError=t.PositionalArgsError=void 0;class n extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}t.PositionalArgsError=n;class r extends Error{constructor(e,t,n){super(`Expected ${t} for '${e}' argument, but got '${JSON.stringify(n)}'`)}}t.ArgumentTypeError=r;class i extends Error{constructor(e,t,n){super(e),this.type=t||"UntypedError",this.context=n}}t.TypedError=i;t.ErrorContext=class{constructor(e){this.transactionHash=e}},t.logWarning=function(){({NODE_ENV:"production",PUBLIC_URL:"/ludex-join-solana",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_NO_LOGS||console.warn(...arguments)}},85531:(e,t)=>{"use strict";function n(e){return new Promise((t=>setTimeout(t,e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t,r,i){let s=e;for(let o=0;o<t;o++){const e=await i();if(e)return e;await n(s),s*=r}return null}},34763:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseNearAmount=t.formatNearAmount=t.NEAR_NOMINATION=t.NEAR_NOMINATION_EXP=void 0;const i=r(n(20775));t.NEAR_NOMINATION_EXP=24,t.NEAR_NOMINATION=new i.default("10",10).pow(new i.default(t.NEAR_NOMINATION_EXP,10));const s=[],o=new i.default(10);for(let u=0,l=new i.default(5);u<t.NEAR_NOMINATION_EXP;u++,l=l.mul(o))s[u]=l;function a(e){return e.replace(/\.?0*$/,"")}function c(e){const t=/(-?\d+)(\d{3})/;for(;t.test(e);)e=e.replace(t,"$1,$2");return e}t.formatNearAmount=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.NEAR_NOMINATION_EXP;const r=new i.default(e,10);if(n!==t.NEAR_NOMINATION_EXP){const e=t.NEAR_NOMINATION_EXP-n-1;e>0&&r.iadd(s[e])}const o=(e=r.toString()).substring(0,e.length-t.NEAR_NOMINATION_EXP)||"0",u=e.substring(e.length-t.NEAR_NOMINATION_EXP).padStart(t.NEAR_NOMINATION_EXP,"0").substring(0,n);return a(`${c(o)}.${u}`)},t.parseNearAmount=function(e){if(!e)return null;const n=(e=e.replace(/,/g,"").trim()).split("."),r=n[0],i=n[1]||"";if(n.length>2||i.length>t.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${e}' as NEAR amount`);return function(e){if(""===(e=e.replace(/^0+/,"")))return"0";return e}(r+i.padEnd(t.NEAR_NOMINATION_EXP,"0"))}},20496:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.logWarning=t.rpc_errors=t.KeyPairEd25519=t.KeyPair=t.PublicKey=t.format=t.enums=t.web=t.serialize=t.key_pair=void 0;const o=s(n(7301));t.key_pair=o;const a=s(n(68227));t.serialize=a;const c=s(n(76425));t.web=c;const u=s(n(33584));t.enums=u;const l=s(n(34763));t.format=l;const d=s(n(84735));t.rpc_errors=d;const h=n(7301);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return h.PublicKey}}),Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return h.KeyPair}}),Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return h.KeyPairEd25519}});const f=n(96906);Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return f.logWarning}})},7301:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyPairEd25519=t.KeyPair=t.PublicKey=t.KeyType=void 0;const i=r(n(53353)),s=n(68227),o=n(33584);var a;function c(e){if("ed25519"===e.toLowerCase())return a.ED25519;throw new Error(`Unknown key type ${e}`)}!function(e){e[e.ED25519=0]="ED25519"}(a=t.KeyType||(t.KeyType={}));class u extends o.Assignable{static from(e){return"string"===typeof e?u.fromString(e):e}static fromString(e){const t=e.split(":");if(1===t.length)return new u({keyType:a.ED25519,data:s.base_decode(t[0])});if(2===t.length)return new u({keyType:c(t[0]),data:s.base_decode(t[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(e){if(e===a.ED25519)return"ed25519";throw new Error(`Unknown key type ${e}`)}(this.keyType)}:${s.base_encode(this.data)}`}verify(e,t){if(this.keyType===a.ED25519)return i.default.sign.detached.verify(e,t,this.data);throw new Error(`Unknown key type ${this.keyType}`)}}t.PublicKey=u;class l{static fromRandom(e){if("ED25519"===e.toUpperCase())return d.fromRandom();throw new Error(`Unknown curve ${e}`)}static fromString(e){const t=e.split(":");if(1===t.length)return new d(t[0]);if(2===t.length){if("ED25519"===t[0].toUpperCase())return new d(t[1]);throw new Error(`Unknown curve: ${t[0]}`)}throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}t.KeyPair=l;class d extends l{constructor(e){super();const t=i.default.sign.keyPair.fromSecretKey(s.base_decode(e));this.publicKey=new u({keyType:a.ED25519,data:t.publicKey}),this.secretKey=e}static fromRandom(){const e=i.default.sign.keyPair();return new d(s.base_encode(e.secretKey))}sign(e){return{signature:i.default.sign.detached(e,s.base_decode(this.secretKey)),publicKey:this.publicKey}}verify(e,t){return this.publicKey.verify(e,t)}toString(){return`ed25519:${this.secretKey}`}getPublicKey(){return this.publicKey}}t.KeyPairEd25519=d},84735:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorTypeFromErrorMessage=t.formatError=t.parseResultError=t.parseRpcError=t.ServerError=void 0;const i=r(n(60215)),s=r(n(55945)),o=r(n(6214)),a=n(12256),c=n(96906),u={formatNear:()=>(e,t)=>a.utils.format.formatNearAmount(t(e))};class l extends c.TypedError{}t.ServerError=l;class d extends l{}function h(e){const t={},n=p(e,s.default.schema,t,""),r=new l(f(n,t),n);return Object.assign(r,t),r}function f(e,t){return"string"===typeof o.default[e]?i.default.render(o.default[e],{...t,...u}):JSON.stringify(t)}function p(e,t,n,r){let i,s,o;for(const c in t){if(a=e[c],"[object String]"===Object.prototype.toString.call(a))return e[c];if(m(e[c]))i=e[c],s=t[c],o=c;else{if(!m(e.kind)||!m(e.kind[c]))continue;i=e.kind[c],s=t[c],o=c}}var a;if(i&&s){for(const e of Object.keys(s.props))n[e]=i[e];return p(i,t,n,o)}return n.kind=e,r}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}t.parseRpcError=h,t.parseResultError=function(e){const t=h(e.status.Failure),n=new d;return Object.assign(n,t),n.type=t.type,n.message=t.message,n.transaction_outcome=e.transaction_outcome,n},t.formatError=f,t.getErrorTypeFromErrorMessage=function(e){switch(!0){case/^account .*? does not exist while viewing$/.test(e):case/^Account .*? doesn't exist$/.test(e):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(e):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(e):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(e):return"InvalidNonce";default:return"UntypedError"}}},68227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30306);Object.defineProperty(t,"base_encode",{enumerable:!0,get:function(){return r.baseEncode}}),Object.defineProperty(t,"base_decode",{enumerable:!0,get:function(){return r.baseDecode}}),Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return r.serialize}}),Object.defineProperty(t,"deserialize",{enumerable:!0,get:function(){return r.deserialize}}),Object.defineProperty(t,"BorshError",{enumerable:!0,get:function(){return r.BorshError}}),Object.defineProperty(t,"BinaryWriter",{enumerable:!0,get:function(){return r.BinaryWriter}}),Object.defineProperty(t,"BinaryReader",{enumerable:!0,get:function(){return r.BinaryReader}})},76425:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchJson=void 0;const i=r(n(34775)),s=r(n(85531)),o=n(24485),a=n(96906);t.fetchJson=async function(e,t){let n={url:null};"string"===typeof e?n.url=e:n=e;const r=await s.default(1e3,10,1.5,(async()=>{try{const e=await fetch(n.url,{method:t?"POST":"GET",body:t||void 0,headers:{...n.headers,"Content-Type":"application/json"}});if(!e.ok){if(503===e.status)return a.logWarning(`Retrying HTTP request for ${n.url} as it's not available now`),null;throw i.default(e.status,await e.text())}return e}catch(e){if(e.toString().includes("FetchError")||e.toString().includes("Failed to fetch"))return a.logWarning(`Retrying HTTP request for ${n.url} because of error: ${e}`),null;throw e}}));if(!r)throw new o.TypedError(`Exceeded 10 attempts for ${n.url}.`,"RetriesExceeded");return await r.json()}},93108:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.diffEpochValidators=t.findSeatPrice=void 0;const i=r(n(20775)),s=r(n(66475));t.findSeatPrice=function(e,t,n,r){if(r&&r<49)return function(e,t){const n=e.map((e=>new i.default(e.stake,10))).sort(((e,t)=>e.cmp(t))),r=new i.default(t),s=n.reduce(((e,t)=>e.add(t)));if(s.lt(r))throw new Error("Stakes are below seats");let o=new i.default(1),a=s.add(new i.default(1));for(;!o.eq(a.sub(new i.default(1)));){const e=o.add(a).div(new i.default(2));let t=!1,s=new i.default(0);for(let i=0;i<n.length;++i)if(s=s.add(n[i].div(e)),s.gte(r)){o=e,t=!0;break}t||(a=e)}return o}(e,t);if(!n){s.default("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),n=[1,6250]}return function(e,t,n){if(2!=n.length)throw Error("minimumStakeRatio should have 2 elements");const r=e.map((e=>new i.default(e.stake,10))).sort(((e,t)=>e.cmp(t))),s=r.reduce(((e,t)=>e.add(t)));return e.length<t?s.mul(new i.default(n[0])).div(new i.default(n[1])):r[0].add(new i.default(1))}(e,t,n)},t.diffEpochValidators=function(e,t){const n=new Map;e.forEach((e=>n.set(e.account_id,e)));const r=new Set(t.map((e=>e.account_id)));return{newValidators:t.filter((e=>!n.has(e.account_id))),removedValidators:e.filter((e=>!r.has(e.account_id))),changedValidators:t.filter((e=>n.has(e.account_id)&&n.get(e.account_id).stake!=e.stake)).map((e=>({current:n.get(e.account_id),next:e})))}}},81251:function(e,t,n){"use strict";var r=n(30261).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedWalletAccount=t.WalletAccount=t.WalletConnection=void 0;const s=i(n(66475)),o=n(13411),a=n(44101),c=n(20496),u=n(30306),l=n(30306),d="pending_key";class h{constructor(e,t){this._near=e;const n=t+"_wallet_auth_key",r=JSON.parse(window.localStorage.getItem(n));this._networkId=e.config.networkId,this._walletBaseUrl=e.config.walletUrl,t=t||e.config.contractName||"default",this._keyStore=e.connection.signer.keyStore,this._authData=r||{allKeys:[]},this._authDataKey=n,this.isSignedIn()||this._completeSignInWithAccessKey()}isSignedIn(){return!!this._authData.accountId}getAccountId(){return this._authData.accountId||""}async requestSignIn(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"===typeof t){s.default("requestSignIn(contractId, title)")("`title` ignored; use `requestSignIn({ contractId, methodNames, successUrl, failureUrl })` instead"),e={contractId:t,successUrl:n,failureUrl:r}}else e=t;const i=new URL(window.location.href),o=new URL(this._walletBaseUrl+"/login/");if(o.searchParams.set("success_url",e.successUrl||i.href),o.searchParams.set("failure_url",e.failureUrl||i.href),e.contractId){const t=await this._near.account(e.contractId);await t.state(),o.searchParams.set("contract_id",e.contractId);const n=c.KeyPair.fromRandom("ed25519");o.searchParams.set("public_key",n.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,d+n.getPublicKey(),n)}e.methodNames&&e.methodNames.forEach((e=>{o.searchParams.append("methodNames",e)})),window.location.assign(o.toString())}async requestSignTransactions(){if(Array.isArray(arguments.length<=0?void 0:arguments[0])){return s.default("WalletConnection.requestSignTransactions(transactions, callbackUrl, meta)")("use `WalletConnection.requestSignTransactions(RequestSignTransactionsOptions)` instead"),this._requestSignTransactions({transactions:arguments.length<=0?void 0:arguments[0],callbackUrl:arguments.length<=1?void 0:arguments[1],meta:arguments.length<=2?void 0:arguments[2]})}return this._requestSignTransactions(arguments.length<=0?void 0:arguments[0])}async _requestSignTransactions(e){let{transactions:t,meta:n,callbackUrl:i}=e;const s=new URL(window.location.href),o=new URL("sign",this._walletBaseUrl);o.searchParams.set("transactions",t.map((e=>l.serialize(a.SCHEMA,e))).map((e=>r.from(e).toString("base64"))).join(",")),o.searchParams.set("callbackUrl",i||s.href),n&&o.searchParams.set("meta",n),window.location.assign(o.toString())}async _completeSignInWithAccessKey(){const e=new URL(window.location.href),t=e.searchParams.get("public_key")||"",n=(e.searchParams.get("all_keys")||"").split(","),r=e.searchParams.get("account_id")||"";r&&(this._authData={accountId:r,allKeys:n},window.localStorage.setItem(this._authDataKey,JSON.stringify(this._authData)),t&&await this._moveKeyFromTempToPermanent(r,t)),e.searchParams.delete("public_key"),e.searchParams.delete("all_keys"),e.searchParams.delete("account_id"),e.searchParams.delete("meta"),e.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,e.toString())}async _moveKeyFromTempToPermanent(e,t){const n=await this._keyStore.getKey(this._networkId,d+t);await this._keyStore.setKey(this._networkId,e,n),await this._keyStore.removeKey(this._networkId,d+t)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new f(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}t.WalletConnection=h,t.WalletAccount=h;class f extends o.Account{constructor(e,t,n){super(t,n),this.walletConnection=e}signAndSendTransaction(){return"string"===typeof(arguments.length<=0?void 0:arguments[0])?this._signAndSendTransaction({receiverId:arguments.length<=0?void 0:arguments[0],actions:arguments.length<=1?void 0:arguments[1]}):this._signAndSendTransaction(arguments.length<=0?void 0:arguments[0])}async _signAndSendTransaction(e){let{receiverId:t,actions:n,walletMeta:r,walletCallbackUrl:i=window.location.href}=e;const s=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let o=await this.accessKeyForTransaction(t,n,s);if(!o)throw new Error(`Cannot find matching key for transaction sent to ${t}`);if(s&&s.toString()===o.public_key)try{return await super.signAndSendTransaction({receiverId:t,actions:n})}catch(m){if("NotEnoughAllowance"!==m.type)throw m;o=await this.accessKeyForTransaction(t,n)}const l=await this.connection.provider.block({finality:"final"}),d=u.baseDecode(l.header.hash),h=c.PublicKey.from(o.public_key),f=o.access_key.nonce+1,p=a.createTransaction(this.accountId,h,t,f,n,d);return await this.walletConnection.requestSignTransactions({transactions:[p],meta:r,callbackUrl:i}),new Promise(((e,t)=>{setTimeout((()=>{t(new Error("Failed to redirect to sign transaction"))}),1e3)}))}async accessKeyMatchesTransaction(e,t,n){const{access_key:{permission:r}}=e;if("FullAccess"===r)return!0;if(r.FunctionCall){const{receiver_id:e,method_names:i}=r.FunctionCall;if(e===this.accountId&&i.includes("add_request_and_confirm"))return!0;if(e===t){if(1!==n.length)return!1;const[{functionCall:e}]=n;return e&&(!e.deposit||"0"===e.deposit.toString())&&(0===i.length||i.includes(e.methodName))}}return!1}async accessKeyForTransaction(e,t,n){const r=await this.getAccessKeys();if(n){const i=r.find((e=>e.public_key.toString()===n.toString()));if(i&&await this.accessKeyMatchesTransaction(i,e,t))return i}const i=this.walletConnection._authData.allKeys;for(const s of r)if(-1!==i.indexOf(s.public_key)&&await this.accessKeyMatchesTransaction(s,e,t))return s;return null}}t.ConnectedWalletAccount=f},55945:e=>{"use strict";e.exports=JSON.parse('{"schema":{"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BreakpointTrap":{"name":"BreakpointTrap","subtypes":[],"props":{}},"CacheError":{"name":"CacheError","subtypes":["ReadError","WriteError","DeserializationError","SerializationError"],"props":{}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"DeserializationError":{"name":"DeserializationError","subtypes":[],"props":{}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"FunctionCallError":{"name":"FunctionCallError","subtypes":["CompilationError","LinkError","MethodResolveError","WasmTrap","WasmUnknownError","HostError","EvmError"],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LinkError":{"name":"LinkError","subtypes":[],"props":{"msg":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodUTF8Error","MethodNotFound","MethodInvalidSignature"],"props":{}},"MethodUTF8Error":{"name":"MethodUTF8Error","subtypes":[],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReadError":{"name":"ReadError","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"SerializationError":{"name":"SerializationError","subtypes":[],"props":{"hash":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","BreakpointTrap","StackOverflow","GenericTrap"],"props":{}},"WasmUnknownError":{"name":"WasmUnknownError","subtypes":[],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"WriteError":{"name":"WriteError","subtypes":[],"props":{}},"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation"],"props":{}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"InternalError":{"name":"InternalError","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed","InternalError"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},6214:e=>{"use strict";e.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed"}')}}]);
//# sourceMappingURL=163.e3a8c877.chunk.js.map